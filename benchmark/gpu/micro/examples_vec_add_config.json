{
  "output_prefix": "benchmark/gpu/micro/examples_vec_add",
  "global_env": {},
  "probe_env": {
    "BPFTIME_LOG_OUTPUT": "console",
    "LD_PRELOAD": "build/runtime/syscall-server/libbpftime-syscall-server.so"
  },
  "agent_env": {
    "BPFTIME_LOG_OUTPUT": "console",
    "LD_PRELOAD": "build/runtime/agent/libbpftime-agent.so"
  },
  "workload_presets": {
    "tiny": "benchmark/gpu/workload/vec_add 32 10000 32 1",
    "small": "benchmark/gpu/workload/vec_add 1000 10000 256 4",
    "medium": "benchmark/gpu/workload/vec_add 10000 10000 256 40",
    "large": "benchmark/gpu/workload/vec_add 100000 1000 512 196",
    "xlarge": "benchmark/gpu/workload/vec_add 1000000 1000 512 1954",
    "minimal": "benchmark/gpu/workload/vec_add 32 3 32 1"
  },
  "test_cases": [
    {
      "name": "Baseline (minimal)",
      "probe_binary_cmd": "",
      "workload": "minimal"
    },
    {
      "name": "eBPF Direct Run VecAdd (minimal)",
      "probe_binary_cmd": "benchmark/gpu/micro/run_direct_vecadd.sh",
      "workload": "minimal",
      "baseline": "Baseline (minimal)",
      "env": {
        "BPFTIME_LOG_OUTPUT": "console"
      }
    },
    {
      "name": "CUDA Counter (minimal)",
      "probe_binary_cmd": "example/gpu/cuda-counter/cuda_probe",
      "workload": "minimal",
      "baseline": "Baseline (minimal)"
    },
    {
      "name": "Memory Trace (minimal)",
      "probe_binary_cmd": "example/gpu/mem_trace/mem_trace",
      "workload": "minimal",
      "baseline": "Baseline (minimal)"
    },
    {
      "name": "Thread Histogram (minimal)",
      "probe_binary_cmd": "example/gpu/threadhist/threadhist",
      "workload": "minimal",
      "baseline": "Baseline (minimal)"
    },
    {
      "name": "Launch Latency (minimal)",
      "probe_binary_cmd": "example/gpu/launchlate/launchlate benchmark/gpu/workload/vec_add:_Z16cudaLaunchKernelIcE9cudaErrorPT_4dim3S3_PPvmP11CUstream_st",
      "workload": "minimal",
      "baseline": "Baseline (minimal)"
    },
    {
      "name": "Kernel Retsnoop (minimal)",
      "probe_binary_cmd": "example/gpu/kernelretsnoop/kernelretsnoop",
      "workload": "minimal",
      "baseline": "Baseline (minimal)"
    }
  ]
}
